import{s as h,g as p}from"./firestore-BpOEQaOI.js";import{f as E}from"./header-CBgfAYu6.js";import{s as w}from"./main-fGrksW3e.js";const l=document.getElementById("entertainmentCategoryContainer"),C=document.getElementById("categoryTitle"),m=document.getElementById("feedbackContainer"),s=(t,e)=>{m.innerHTML="",m.appendChild(w(t,e)),setTimeout(()=>{m.innerHTML=""},3e3)},y=async(t,e,a)=>{if(!a){window.location.href="login.html";return}if(s("Aguarde um momento...","info"),e.src.includes("favorited"))e.src="images/icons/heart.png",await removeEventFromFavorites(t)?s("Evento removido dos favoritos com sucesso.","success"):s("Erro ao remover evento dos favoritos.","alert");else{const n=await addEventToFavorites(t);e.src="images/icons/favorited.png",n?s("Evento adicionado aos favoritos com sucesso.","success"):s("Erro ao adicionar evento aos favoritos.","alert")}},L=(t,e,a)=>{const n="./public/images/icons/favorited.png",o="./public/images/icons/heart.png";e&&e.favoritos&&e.favoritos.includes(a)?t.src=n:t.src=o},N=async t=>{const e=await p(),a=document.createElement("div");return a.className="event-cards",t.forEach(n=>{const o=document.createElement("div");o.className="event-one-card",o.addEventListener("click",c=>{c.target.className=="favorite-icon"||c.target.className=="favorite-container"||(window.location.href=`event.html?id=${n.id}`)});const f=document.createElement("img");f.src=n.imagemUrl;const i=document.createElement("div");i.className="favorite-container";const r=document.createElement("img");L(r,e,n.id),r.className="favorite-icon",r.addEventListener("click",c=>{e?y(n.id,c.target,e):window.location.href="login.html"}),i.appendChild(r);const d=document.createElement("div");d.className="event-info";const v=document.createElement("h3");v.textContent=n.titulo;const g=document.createElement("span"),u=E(new Date(n.data.startDate));g.innerHTML+=`<strong>${u.day}${u.month}</strong> | ${n.endereco.nomeLocal}`,d.append(v,g),o.append(f,d,i),a.appendChild(o)}),a};document.addEventListener("DOMContentLoaded",async()=>{const t=new URLSearchParams(window.location.search),e=await h("categoria",t.get("category"));if(C.innerHTML=t.get("desc"),e.length==0){s("Nenhum evento encontrado.","alert"),l.innerHTML="Nenhum evento encontrado na categoria.";return}l.innerHTML="",l.appendChild(await N(e))});
