import{s as h,g as E,r as p,a as w}from"./firestore-C0iZVGC-.js";import{f as C}from"./header-EDs2RbMQ.js";import{s as y}from"./main-jZdBNm8R.js";const m=document.getElementById("entertainmentCategoryContainer"),L=document.getElementById("categoryTitle"),l=document.getElementById("feedbackContainer"),s=(t,e)=>{l.innerHTML="",l.appendChild(y(t,e)),setTimeout(()=>{l.innerHTML=""},3e3)},N=async(t,e,a)=>{if(!a){window.location.href="login.html";return}if(s("Aguarde um momento...","info"),e.src.includes("favorited"))e.src="images/icons/heart.png",await p(t)?s("Evento removido dos favoritos com sucesso.","success"):s("Erro ao remover evento dos favoritos.","alert");else{const n=await w(t);e.src="images/icons/favorited.png",n?s("Evento adicionado aos favoritos com sucesso.","success"):s("Erro ao adicionar evento aos favoritos.","alert")}},T=(t,e,a)=>{const n="./images/icons/favorited.png",o="./images/icons/heart.png";e&&e.favoritos&&e.favoritos.includes(a)?t.src=n:t.src=o},F=async t=>{const e=await E(),a=document.createElement("div");return a.className="event-cards",t.forEach(n=>{const o=document.createElement("div");o.className="event-one-card",o.addEventListener("click",c=>{c.target.className=="favorite-icon"||c.target.className=="favorite-container"||(window.location.href=`event.html?id=${n.id}`)});const f=document.createElement("img");f.src=n.imagemUrl;const i=document.createElement("div");i.className="favorite-container";const r=document.createElement("img");T(r,e,n.id),r.className="favorite-icon",r.addEventListener("click",c=>{e?N(n.id,c.target,e):window.location.href="login.html"}),i.appendChild(r);const d=document.createElement("div");d.className="event-info";const v=document.createElement("h3");v.textContent=n.titulo;const g=document.createElement("span"),u=C(new Date(n.data.startDate));g.innerHTML+=`<strong>${u.day}${u.month}</strong> | ${n.endereco.nomeLocal}`,d.append(v,g),o.append(f,d,i),a.appendChild(o)}),a};document.addEventListener("DOMContentLoaded",async()=>{const t=new URLSearchParams(window.location.search),e=await h("categoria",t.get("category"));if(L.innerHTML=t.get("desc"),e.length==0){s("Nenhum evento encontrado.","alert"),m.innerHTML="Nenhum evento encontrado na categoria.";return}m.innerHTML="",m.appendChild(await F(e))});
