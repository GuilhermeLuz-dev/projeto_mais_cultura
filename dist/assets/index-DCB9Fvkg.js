import{s as C,g as E,r as w,a as y}from"./firestore-BpOEQaOI.js";import{f as h}from"./header-CBgfAYu6.js";import{s as b}from"./main-fGrksW3e.js";const N=()=>{new Swiper(".swiper",{autoplay:{delay:3e3,disableOnInteraction:!1},direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar",draggable:!0}})},f=document.getElementById("carroussel"),g=document.getElementById("feedbackContainer"),x=document.getElementById("entertainmentCategoryContainer"),I=document.getElementById("sportsCategoryContainer"),L=document.getElementById("theaterCategoryContainer"),B=document.getElementById("exhibitionCategoryContainer"),F=document.getElementById("educationCategoryContainer"),k=async e=>{let t=document.createElement("div");t.className="swiper";let a=document.createElement("div");a.className="swiper-wrapper";let n=document.createElement("div");n.className="swiper-pagination";let o=document.createElement("div");o.className="swiper-button-prev";let d=document.createElement("div");d.className="swiper-button-next";let i=document.createElement("div");return i.className="swiper-scrollbar",t.append(n,o,d,i),e.forEach(r=>{const s=document.createElement("div");s.className="swiper-slide";const c=document.createElement("p");c.className="slider-text",c.textContent=r.descricao;const l=document.createElement("img");l.src=r.imagemUrl,s.id=r.id,s.append(l,c),a.appendChild(s)}),t.appendChild(a),t},m=(e,t)=>{g.innerHTML="",g.appendChild(b(e,t)),setTimeout(()=>{g.innerHTML=""},3e3)},D=async(e,t,a)=>{if(!a){window.location.href="login.html";return}if(m("Aguarde um momento...","info"),t.src.includes("favorited"))t.src="images/icons/heart.png",await w(e)?m("Evento removido dos favoritos com sucesso.","success"):m("Erro ao remover evento dos favoritos.","alert");else{const n=await y(e);t.src="images/icons/favorited.png",n?m("Evento adicionado aos favoritos com sucesso.","success"):m("Erro ao adicionar evento aos favoritos.","alert")}},T=(e,t,a)=>{const n="./images/icons/favorited.png",o="./images/icons/heart.png";t&&t.favoritos&&t.favoritos.includes(a)?e.src=n:e.src=o},M=async e=>{const t=await E(),a=document.createElement("div");return a.className="event-cards",e.forEach(n=>{const o=document.createElement("div");o.className="event-one-card",o.addEventListener("click",u=>{u.target.className=="favorite-icon"||u.target.className=="favorite-container"||(window.location.href=`event.html?id=${n.id}`)});const d=document.createElement("img");d.src=n.imagemUrl;const i=document.createElement("div");i.className="favorite-container";const r=document.createElement("img");T(r,t,n.id),r.className="favorite-icon",r.addEventListener("click",u=>{t?D(n.id,u.target,t):window.location.href="login.html"}),i.appendChild(r);const s=document.createElement("div");s.className="event-info";const c=document.createElement("h3");c.textContent=n.titulo;const l=document.createElement("span"),v=h(new Date(n.data.startDate));l.innerHTML+=`<strong>${v.day}${v.month}</strong> | ${n.endereco.nomeLocal}`,s.append(c,l),o.append(d,s,i),a.appendChild(o)}),a},p=async(e,t)=>{const a=await M(await C("categoria",t));a.textContent||(e.parentNode.textContent=""),e&&(e.innerHTML=" ",e.appendChild(a))};document.addEventListener("DOMContentLoaded",async()=>{const e=await k(await C("emDestaque",!0));e.querySelectorAll(".swiper-slide").length>0&&(f.innerHTML="",f.prepend(e)),N(),await p(x,"entretenimento"),await p(I,"esporte"),await p(L,"teatro"),await p(B,"exposicao"),await p(F,"educacao")});
